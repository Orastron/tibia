<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<title>{{=it.product.name}}</title>
		<script type="text/javascript">
var data = {
	buses: {{=JSON.stringify(it.product.buses, null, 2)}},
	parameters: {{=JSON.stringify(it.product.parameters, null, 2)}}
};

var hasAudioPermission = true;
for (var i = 0; i < buses.length; i++)
	if (!data.buses[i].output) {
		hasAudioPermission = Android.hasAudioPermission();
		break;
	}
var audioStarted = false;
var topButtonElem;
var outParamInterval;

window.onload = function () {
	topButtonElem = document.getElementById("topButton");
	var paramsElem = document.getElementById("params");

	topButtonElem.value = hasAudioPermission ? "START" : "INIT";
};

function gotAudioPermission() {
	hasAudioPermission = true;
	topButtonElem.value = "START";
}
		</script>
		<style>
* {
	margin: 0;
	padding: 0;
	user-select: none;
}

body {
	margin: 1em;
}

#topButton {
	width: 100%;
	border: 0;
	background-color: #04aa6d;
	color: white;
	padding: 0.5em;
	text-align: center;
	margin-bottom: 1em;
	padding: 1em;
}

.range {
	width: 90%;
}
		</style>
	</head>
	<body>
		<input id="topButton" type="button">
		<div id="params"></div>
	</body>
</html>
